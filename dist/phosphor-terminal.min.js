"use strict";var __extends=this.__extends||function(t,e){function s(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);s.prototype=e.prototype,t.prototype=new s},phosphor;!function(t){var e;!function(e){var s=t.widgets.Widget,i=function(t){function e(e,s){var i=this;t.call(this),this.addClass("TermWidget"),this._ws=new WebSocket(e),this._term=Terminal(s||{useStyle:!0}),this._term.open(this.node),this._term.on("data",function(t){i._ws.send(JSON.stringify(["stdin",t]))}),this._ws.onmessage=function(t){var e=JSON.parse(t.data);switch(e[0]){case"stdout":i._term.write(e[1]);break;case"disconnect":i._term.write("\r\n\r\n[Finished... Term Session]\r\n")}}}return __extends(e,t),e.prototype.dispose=function(){this._term.destroy(),this._ws=null,this._term=null,t.prototype.dispose.call(this)},e.prototype.onResize=function(t){var e=this._term.element.offsetHeight/this._term.rows,s=this._term.element.offsetWidth/this._term.cols,i=Math.max(2,Math.floor(t.height/e)-1),r=Math.max(3,Math.floor(t.width/s)-1);this._term.resize(r,i)},e}(s);e.TermWidget=i}(e=t.terminal||(t.terminal={}))}(phosphor||(phosphor={}));